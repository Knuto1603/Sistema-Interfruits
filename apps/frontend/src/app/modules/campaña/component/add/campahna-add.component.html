<div>

  <!-- Header -->
  <div class="d-flex flex-row align-items-center justify-content-between border-bottom p-3 p-md-4">
    <!-- Title -->
    <div class="h3 fw-bold mb-0 h2-sm">Campaña - Nueva</div>
    <div class="d-flex align-items-center">
      <!-- Close button -->
      <close-button [routerLink]="['../']" />
    </div>
  </div>


  <form class="mt-4 d-flex flex-column p-3 p-md-4" autocomplete="off" [formGroup]="campanhaForm">
    <div class="row g-4">
      <!-- Name -->
      <div class="col-12 col-sm-6 col-md-4">
        <mat-form-field class="d-flex align-items-center w-100">
          <mat-label>Nombre</mat-label>
          <input matInput [formControlName]="'nombre'" autocomplete="off" />
          @if (this.form['nombre'].hasError('required')) {
            <mat-error> Campo <strong>requerido</strong> </mat-error>
          }
          @if (this.form['nombre'].hasError('minlength')) {
            <mat-error> Mínimo <strong>2</strong> carácteres </mat-error>
          }
          @if (this.form['nombre'].hasError('maxlength')) {
            <mat-error> Máximo <strong>100</strong> carácteres </mat-error>
          }
        </mat-form-field>
      </div>
      <!-- Descripcion -->
      <div class="col-12 col-sm-6 col-md-4">
        <mat-form-field class="d-flex align-items-center w-100">
          <mat-label>Descripción</mat-label>
          <input matInput [formControlName]="'descripcion'" [spellcheck]="false" />
          @if (this.form['descripcion'].hasError('maxlength')) {
            <mat-error> Máximo <strong>50</strong> carácteres </mat-error>
          }
        </mat-form-field>
      </div>
      <!-- Fruta -->
      <div class="col-12 col-sm-6 col-md-4">
        <mat-form-field class="d-flex align-items-center w-100">
          <mat-label>Fruta</mat-label>
          <mat-select [formControlName]="'frutaId'">
            <mat-option>Ninguno</mat-option>
            @for (fruta of frutas(); track fruta.id) {
              <mat-option [value]="fruta.id">{{ fruta.nombre }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
      <!-- Fecha -->
      <div class="col-12 col-sm-6 col-md-4">
        <mat-form-field class="d-flex align-items-center w-100">
          <mat-label>Fecha de Inicio</mat-label>
          <input matInput [matDatepicker]="picker" [formControlName]="'fechaInicio'" [spellcheck]="false" />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>

          @if (this.form['fechaInicio'].hasError('maxlength')) {
            <mat-error> Máximo <strong>12</strong> carácteres </mat-error>
          }
          @if (this.form['fechaInicio'].hasError('pattern')) {
            <mat-error> Caracteres no validos </mat-error>
          }
        </mat-form-field>
      </div>
      <!-- Active -->
      <div class="col-12 col-sm-6 col-md-4 d-flex align-items-center">
        <mat-slide-toggle [formControlName]="'isActive'" [color]="'primary'">
          {{ isActiveControl?.value === true ? 'Habilitado' : 'Deshabilitado' }}
        </mat-slide-toggle>
      </div>
    </div>
    <!-- Actions -->
    <div class="mt-4 d-flex flex-row justify-content-between">
      <save-button appDebounceClick [disabled]="campanhaForm.invalid || saving()" (debounceClick)="save()" />
    </div>
    </form>
</div>
