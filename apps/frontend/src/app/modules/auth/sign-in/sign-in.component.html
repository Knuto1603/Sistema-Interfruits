<div class="bg-light dark:bg-transparent min-vh-100 d-flex flex-row align-items-center">
  <c-container breakpoint="md">

    <div id="fondo" class="position-absolute top-0 start-0 vw-100 vh-100 overflow-hidden ">
      <img src="./assets/images/angular.jpg" alt="logo" class="w-100 h-100 object-cover "/>
      <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark opacity-25"></div>
    </div>
    @if (showAlert) {
      <c-alert color="danger" class="d-flex align-items-center">
        <mat-icon class="icon-size-5" [svgIcon]="'personalized:alert-icon'"></mat-icon>
        <div>{{ alert.message }}</div>
      </c-alert>
    }
    <c-row class="justify-content-center">
      <c-col lg="10" xl="8">
        <c-card-group>
          <c-card class="p-4">
            <c-card-body>
              <div>
                <h1>
                  Â¡Bienvenido/a al <span class="highlight">SIGA</span>!
                  <span class="emoji">- Interfruits</span>
                </h1>

                <p class="mt-4">
                  Â¡Bienvenido de vuelta! SIGA es tu espacio de trabajo digital en Interfruits. AquÃ­ puedes realizar todas tus tareas diarias de manera eficiente. Recuerda que estamos constantemente mejorando el sistema con tus sugerencias.
                </p>

                <p class="mt-4">
                  <span class="emoji">ðŸš€</span>
                  <strong>Recuerda que estamos constantemente mejorando el sistema con tus sugerencias y feedback</strong>
                </p>

                <p class="mt-4">No olvides enviarnos tus sugerencias a: <br>
                  <a href="mailto:sistemas@interfruitsperu.com" class="cta-button">ðŸ“§ Sistemas Interfruits</a></p>
              </div>
            </c-card-body>
          </c-card>
          <c-card class="p-4">
            <c-card-body>
              <div class="justify-content-center d-flex h-scree align-items-center gap-2">
                <div class="h-40">
                  <img ngSrc="./assets/images/logo-Interfruits.png" alt="logo" height="40" width="40"/>
                </div>
                <span>Interfruits PerÃº S.A.C.</span>
              </div>

              <form class="mt-5" [formGroup]="signInForm" #signInNgForm="ngForm">
                <!-- Email field -->
                <mat-form-field class="w-full">
                  <mat-label>Usuario</mat-label>
                  <input id="email" matInput [formControlName]="'username'" />
                  @if (usernameControl && usernameControl.hasError('required')) {
                    <mat-error> El nombre de usuario es requerido </mat-error>
                  }
                </mat-form-field>

                <!-- Password field -->
                <mat-form-field class="w-full">
                  <mat-label>ContraseÃ±a</mat-label>
                  <input id="password" matInput type="password" [formControlName]="'password'" #passwordField />
                  <button
                    mat-icon-button
                    type="button"
                    (click)="
                            passwordField.type === 'password'
                                ? (passwordField.type = 'text')
                                : (passwordField.type = 'password')
                        "
                    matSuffix
                  >
                    @if (passwordField.type === 'password') {
                      <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                    }
                    @if (passwordField.type === 'text') {
                      <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:eye-slash'"></mat-icon>
                    }
                  </button>
                  <mat-error> Password es requerido</mat-error>
                </mat-form-field>

                <!-- Actions -->
                <div class="mt-1.5 inline-flex w-full items-center justify-between">
                  <mat-checkbox class="-ml-2" [color]="'primary'" [formControlName]="'rememberMe'">
                    Recordar
                  </mat-checkbox>
                </div>

                <!-- Submit button -->
                <button
                  cButton
                  class=" mt-6 w-full"
                  color="primary"
                  [disabled]="signInForm.disabled"
                  (click)="signIn()"
                  variant="outline"
                  shape="rounded-pill"
                >
                  @if (!signInForm.disabled) {
                    <span> Iniciar SesiÃ³n </span>
                  }
                  @if (signInForm.disabled) {
                    <c-spinner color="danger" />
                  }
                </button>
              </form>
            </c-card-body>
          </c-card>
        </c-card-group>
      </c-col>
    </c-row>
  </c-container>
</div>
